

# 一些有趣的坑

​		1.监视组件高度bug
​				要通过监视组件来获取高度，来决定DIV高度的时候有时候会获取不到heght的值，有可能值为null
​			原因：未知

​			解决办法:
​					使用scoll-view滑动窗口装收内容，然后将滑动窗口设置成手机视口大小
​			
​				1.1衍生问题：
​						获取视口大小时，因为要减去上端导航栏位置，
​								在小程序端的时候， 手机视口大小包括了（刘海部分/手机top信息栏部分，所以在设置滑动窗口大小的时候不仅需要减掉导航栏高度还需要减掉手机top信息栏）

​								在开发的小米9部分，视口部分只包含了app能使用的所有部分，小米9（无刘海），就不需要减去手机状态状态信息栏，只需要剪掉自己设置的导航组件大小即可

​		2.路径问题，直接引用时，使用@绝对路径不生效
​				从接口一引入地址时，@路径搜索不到图片

​				解决办法：使用../../xxx代替@

​		3.使用uniapp代理H5跨域适配问题，
​			

​			解决办法：要么 就不兼顾H5，要么从后端解决问题，省事可以配置CORS
设置所有端都可以访问后台数据来开发
​				实际完成开发后，该配置具有巨大的安全隐患问题







# 写给小白的目录结构

​		manifest.json：配置文件：log、es6转es5等等
​		pages.jios：配置文件：路由、导航等等
​		main.js		vue初始化入口文件
​		app.vue		全局配置：样式，全局监听
​		
static			老生常谈的静态资源文件

pages			页面文件夹

components   组件文件夹

comme	存放 公共的css文件

server		后端

common.css  全局css文件

store 	 vuex插件



制作app组件 信息记录
	一、首页index
			1.顶部滑动导航栏
					封装：
			2.头图
					名称：banner
					封装：是（会复用）|
			3.宫格
					名称：icons
					封装：是
			4.卡片
					名称：card
					封装：是
					公用：否
			5.品牌
					名称：brand
					封装：是

​			6.热销
​					名称：hot
​					封装：是
​			7.店铺
​					名称：shop
​					封装：是

​			8.为你推荐
​			9.触底刷新，上滑刷新

公用组件
			1.单独的商品展示盒子：commodity
					图片、文字

​			2.商品展示列表：commodityList

​					内部调用===》单独的商品展示

搜索列表search-list
		1.商品的筛选
				封装：否
		2.其他问题
				1.判断搜索关键词，如果关键词为空则要提示信息
				2.进入搜索结果页面，软键盘需要自动隐藏
				3.点击软键盘的搜索也可以进入到搜索结果的页面
				4.历史搜索词
						4.1  使用本地存储
						4.2	搜索词语是否重复
						4.3	最新搜索词语前置

​				5.点击清楚收缩，隐藏图标，并提示无历史记录
​				6.搜索词不通过展示的数据不同
​				7.排序====》链接数据条件查询	















## 跨域解决：
​		使用uniapp代理			

​			在manifest.json中配置

```
"h5" : {
		"devServer" : {
			
			"port" : 8080, //端口号
			"disableHostCheck" : true,
			"proxy" : {
				  "/api" : {
				  "target" : "http://192.168.1.2:3000/", //自己项目接口域名
				  "changeOrigin" : true,  //是否跨域
				  "secure" : false,  	
				  "pathRewrite": {"^/api":"/api"}   //api路径重定向，根据具体情况调整，也可不写
					}
				}
		
		},
		"optimization" : {
		   "treeShaking" : {
			   "enable" : false
			}
		}
	}
```









